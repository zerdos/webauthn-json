!function(){function e(e){const t="==".slice(0,(4-e.length%4)%4),n=e.replace(/-/g,"+").replace(/_/g,"/")+t,r=atob(n),o=new ArrayBuffer(r.length),a=new Uint8Array(o);for(let e=0;e<r.length;e++)a[e]=r.charCodeAt(e);return o}function t(e){const t=new Uint8Array(e);let n="";for(const e of t)n+=String.fromCharCode(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const n="copy",r="convert";function o(e,t,a){if(t===n)return a;if(t===r)return e(a);if(t instanceof Array)return a.map(n=>o(e,t[0],n));if(t instanceof Object){const n={};for(const[r,c]of Object.entries(t))if(r in a)null!=a[r]?n[r]=o(e,c.schema,a[r]):n[r]=null;else if(c.required)throw new Error(`Missing key: ${r}`);return n}}function a(e){return{required:!0,schema:e}}function c(e){return{required:!1,schema:e}}const i={type:a(n),id:a(r),transports:c(n)},u={appid:c(n),appidExclude:c(n)},s={appid:c(n),appidExclude:c(n)},l={publicKey:a({rp:a(n),user:a({id:a(r),name:a(n),displayName:a(n)}),challenge:a(r),pubKeyCredParams:a(n),timeout:c(n),excludeCredentials:c([i]),authenticatorSelection:c(n),attestation:c(n),extensions:c(u)}),signal:c(n)},C={type:a(n),id:a(n),rawId:a(r),response:a({clientDataJSON:a(r),attestationObject:a(r)}),clientExtensionResults:a(s)},d={mediation:c(n),publicKey:a({challenge:a(r),timeout:c(n),rpId:c(n),allowCredentials:c([i]),userVerification:c(n),extensions:c(u)}),signal:c(n)},y={type:a(n),id:a(n),rawId:a(r),response:a({clientDataJSON:a(r),authenticatorData:a(r),signature:a(r),userHandle:a(r)}),clientExtensionResults:a(s)};async function p(n){return function(e){const n=e;return n.clientExtensionResults=e.getClientExtensionResults(),o(t,C,n)}(await navigator.credentials.create(function(t){return o(e,l,t)}(n)))}async function I(n){return function(e){const n=e;return n.clientExtensionResults=e.getClientExtensionResults(),o(t,y,n)}(await navigator.credentials.get(function(t){return o(e,d,t)}(n)))}function f(){return JSON.parse(localStorage.webauthnExampleRegistrations||"[]")}function g(e,t=!0){localStorage.webauthnExampleRegistrations=JSON.stringify(e,null,"  "),h()}function m(){return document.querySelector("#registrations")}function h(){m().value=JSON.stringify(f(),null,"  ")}function S(e,t){return async function(){document.querySelector("#error").textContent="",document.querySelector(e).textContent="…";try{await t(),document.querySelector(e).textContent=" ✅"}catch(t){document.querySelector(e).textContent=" ❌",console.error(t),document.querySelector("#error").textContent=t}}}async function w(){document.querySelector("#error").textContent="",m().style.backgroundColor="rgba(255, 127, 0, 0.5)";try{g(JSON.parse(m().value),!1),m().style.backgroundColor="rgba(0, 255, 0, 0.5)"}catch(e){m().style.backgroundColor="rgba(255, 0, 0, 0.5)",console.error(e),document.querySelector("#error").textContent=e}}function x(){return f().map(e=>({id:e.rawId,type:e.type}))}async function b(){!function(e){const t=f();t.push(e),g(t)}(await p({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",rp:{name:"Localhost, Inc."},user:{id:"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",name:"test_user",displayName:"Test User"},pubKeyCredParams:[{type:"public-key",alg:-7}],excludeCredentials:x(),authenticatorSelection:{userVerification:"discouraged"}}}))}async function E(){await I({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",allowCredentials:x(),userVerification:"discouraged"}})}async function q(){g([])}async function v(){document.querySelector("#supported .status").textContent="…",document.querySelector("#supported .status").textContent=navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential?" ✅":" ❌"}window.addEventListener("load",()=>{try{h(),m().addEventListener("keyup",w),m().addEventListener("change",w),m().addEventListener("paste",w)}catch(e){console.error(e)}}),window.addEventListener("load",()=>{try{document.querySelector("#register").addEventListener("click",S("#register .status",b)),document.querySelector("#authenticate").addEventListener("click",S("#authenticate .status",E)),document.querySelector("#clear").addEventListener("click",S("#clear .status",q)),document.querySelector("#supported").addEventListener("click",v)}catch(e){console.error(e)}})}();
//# sourceMappingURL=index.64614ba5.js.map
